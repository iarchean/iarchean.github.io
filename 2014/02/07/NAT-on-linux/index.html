<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>用Linux做路由器 - Archean&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="4773D5"><meta name="application-name" content="Archean&#039;s Blog"><meta name="msapplication-TileImage" content="/img/Favicon.png"><meta name="msapplication-TileColor" content="4773D5"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Archean&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="今日完成了一个专线项目, 根据集团要求, 需要使用 NAT 的方式联通两个办公区之间的内部网络, 使得可以互相访问服务器资源, 并且保存3个月的 NAT 日志, 出问题可以快速定位到人. 由于我们办公区没有路由器设备, 于是采用 Linux 服务器做 iptables 转发来实现 NAT 功能, 并且 iptables 可以记录日志; 此项目设计的客户端和服务器不足百台, 不会有太高的并发访问,"><meta property="og:type" content="blog"><meta property="og:title" content="用Linux做路由器"><meta property="og:url" content="https://archeanz.com/2014/02/07/NAT-on-linux/"><meta property="og:site_name" content="Archean&#039;s Blog"><meta property="og:description" content="今日完成了一个专线项目, 根据集团要求, 需要使用 NAT 的方式联通两个办公区之间的内部网络, 使得可以互相访问服务器资源, 并且保存3个月的 NAT 日志, 出问题可以快速定位到人. 由于我们办公区没有路由器设备, 于是采用 Linux 服务器做 iptables 转发来实现 NAT 功能, 并且 iptables 可以记录日志; 此项目设计的客户端和服务器不足百台, 不会有太高的并发访问,"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://archean-1256172257.cos.ap-beijing.myqcloud.com/blog/4yu4e.jpg"><meta property="article:published_time" content="2014-02-07T09:25:39.000Z"><meta property="article:modified_time" content="2022-07-10T15:31:51.062Z"><meta property="article:author" content="Archean Zhang"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://archean-1256172257.cos.ap-beijing.myqcloud.com/blog/4yu4e.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://archeanz.com"},"headline":"Archean's Blog","image":["https://archeanz.com/img/Logo.png"],"datePublished":"2014-02-07T09:25:39.000Z","dateModified":"2022-07-10T15:31:51.062Z","author":{"@type":"Person","name":"Archean Zhang"},"publisher":{"@type":"Organization","name":"Archean's Blog","logo":{"@type":"ImageObject","url":"https://archeanz.com/img/Logo.png"}},"description":"Sharing my experience in Technology, Internet or Photograph."}</script><link rel="canonical" href="https://archeanz.com/2014/02/07/NAT-on-linux/"><link rel="alternate" href="/atom.xml" title="Archean&#039;s Blog" type="application/atom+xml"><link rel="icon" href="/img/Favicon.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-QER8L924WY" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-QER8L924WY');</script><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><meta name="follow.it-verification-code" content="AjtzW9d3fK7KsmEjS9nJ"><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/Logo.png" alt="Archean&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2014-02-07T09:25:39.000Z" title="2/7/2014, 6:25:39 PM">2014-02-07</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-07-10T15:31:51.062Z" title="7/11/2022, 12:31:51 AM">2022-07-11</time></span><span class="level-item"><a class="link-muted" href="/categories/linux/">linux</a><span> / </span><a class="link-muted" href="/categories/linux/iptables/">iptables</a></span></div></div><h1 class="title is-3 is-size-4-mobile">用Linux做路由器</h1><div class="content"><p>今日完成了一个专线项目, 根据集团要求, 需要使用 NAT 的方式联通两个办公区之间的内部网络, 使得可以互相访问服务器资源, 并且保存3个月的 NAT 日志, 出问题可以快速定位到人.</p>
<p>由于我们办公区没有路由器设备, 于是采用 Linux 服务器做 iptables 转发来实现 NAT 功能, 并且 iptables 可以记录日志; 此项目设计的客户端和服务器不足百台, 不会有太高的并发访问, 一台中等配置的 Linux 服务器完全可以满足要求. </p>
<span id="more"></span>

<h2 id="拓扑结构"><a href="#拓扑结构" class="headerlink" title="拓扑结构"></a>拓扑结构</h2><p><img src="https://archean-1256172257.cos.ap-beijing.myqcloud.com/blog/3uqg1.png" alt="拓扑"></p>
<!--more-->
<p><em>我负责的区域在左侧.</em></p>
<ul>
<li>办公区和总部通过一条 20M 的 MSTP 线路相连, 互联网段是<code>172.17.176.48/29</code>.</li>
<li>在办公区<code>10.250.0.0/16</code>可以通过 SNAT 方式访问总部网络<code>10.44.0.0/16</code>, 源 IP 需要 NAT 为<code>172.17.176.50/29</code></li>
<li>在总部可以通过访问互联地址<code>172.17.176.51/29</code>访问办公区的数据库服务器<code>10.250.8.241</code></li>
</ul>
<h2 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h2><p>首先在我们<code>10.250.0.0/16</code>这个三层交换机上增加<code>10.44.0.0/16</code>的路由:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip route-static 10.44.0.0 255.255.0.0 10.250.254.251</span><br></pre></td></tr></table></figure>

<p>若要实现双向的 NAT, 还有一个必要条件是一台最小化安装的 Linux 服务器, 最少配置2个网卡, 在此场景下, 网卡配置为: </p>
<ul>
<li>eth0作为内部网卡, IP 地址是<code>10.250.254.251</code>; </li>
<li>eth1作为互联网卡, IP 地址是<code>172.17.176.50</code>;</li>
<li>eth1对端的 IP 为<code>172.17.176.49</code>.</li>
</ul>
<p>服务器的路由配置, 需要能够访问办公区正常的网络资源, 同时将10.44.0.0/16路由至互联网卡:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># netstat -nr</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface</span><br><span class="line">172.17.176.48   0.0.0.0         255.255.255.248 U         0 0          0 eth1</span><br><span class="line">10.250.254.0    0.0.0.0         255.255.255.0   U         0 0          0 eth0</span><br><span class="line">10.44.0.0       172.17.176.49   255.255.0.0     UG        0 0          0 eth1</span><br><span class="line">10.250.0.0      10.250.254.254  255.0.0.0       UG        0 0          0 eth0</span><br></pre></td></tr></table></figure>
<p>开启Linux 内核的转发功能, 编辑<code>/etc/sysctl.conf</code>, 加入如下语句:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net.ipv4.ip_forward = 1</span><br></pre></td></tr></table></figure>
<h2 id="访问总部网络资源"><a href="#访问总部网络资源" class="headerlink" title="访问总部网络资源"></a>访问总部网络资源</h2><p>此步骤涉及到 SNAT 的概念.</p>
<p>所谓 SNAT, 即将一段 IP 包的源地址改变, 由于总部的 ACL 策略中仅允许<code>172.17.176.48/29</code>网段访问, 所以我们访问总部时就必须将源地址 NAT 为上述网段.</p>
<p>iptables 的 nat tables 有3个内置的 chain, 分别是<code>PREROUTING</code>, <code>POSTROUTING</code>和<code>OUTPUT</code>chain</p>
<blockquote>
<p>PREROUTING chain – Alters packets before routing. i.e Packet translation happens immediately after the packet comes to the system (and before routing). This helps to translate the destination ip address of the packets to something that matches the routing on the local server. This is used for DNAT (destination NAT).<br>POSTROUTING chain – Alters packets after routing. i.e Packet translation happens when the packets are leaving the system. This helps to translate the source ip address of the packets to something that might match the routing on the desintation server. This is used for SNAT (source NAT).<br>OUTPUT chain – NAT for locally generated packets on the firewall.</p>
</blockquote>
<p>我们需要使用的是<code>POSTROUTING</code> chain.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># iptables -A POSTROUTING -s 10.250.0.0/16 -o eth1 -j SNAT --to-source 172.17.176.50</span><br></pre></td></tr></table></figure>
<p>解释一下, 就是将来自<code>10.250.0.0/16</code>网段的包, 由 eth1 网口出去时的源 IP 变更为<code>172.17.176.50</code>; 我们之前已经将路由配置为访问10.44网段时都走 eth1, 所以此行解决了访问总部的问题.</p>
<p>如果查看, 可以看到此条目已经生效:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># iptables -L -t nat</span><br><span class="line">target     prot opt source               destination</span><br><span class="line">NAT        all  --  10.250.0.0/16        0.0.0.0/0           to:172.17.176.50</span><br></pre></td></tr></table></figure>
<p>检查生效后可以使用<code>/etc/init.d/iptables save</code> 将此条保存到<code>/etc/sysconfig/iptables </code>中, 这样重启iptables 后也不会丢是配置.</p>
<h2 id="总部访问办公区服务器"><a href="#总部访问办公区服务器" class="headerlink" title="总部访问办公区服务器"></a>总部访问办公区服务器</h2><p>此步骤不仅涉及 SNAT, 还涉及到了 DNAT 的概念.</p>
<p>DNAT 即将一段 IP 包的目的地址改变. 此方式</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>用Linux做路由器</p><p><a href="https://archeanz.com/2014/02/07/NAT-on-linux/">https://archeanz.com/2014/02/07/NAT-on-linux/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Archean Zhang</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2014-02-07</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2022-07-11</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><!--!--></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" data-type="paypal" onclick="document.getElementById(&#039;paypal-donate-form&#039;).submit()"><span class="icon is-small"><i class="fab fa-paypal"></i></span><span>Paypal</span></a><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank" rel="noopener" id="paypal-donate-form"><input type="hidden" name="cmd" value="_donations"><input type="hidden" name="business" value="zephyr422@gmail.com"><input type="hidden" name="currency_code" value="USD"></form><a class="button donate" href="https://www.buymeacoffee.com/archean" target="_blank" rel="noopener" data-type="buymeacoffee"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>Buy me a coffee</span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>Wechat</span><span class="qrcode"><img src="https://archean-1256172257.cos.ap-beijing.myqcloud.com/blog/3mjsp.jpg" alt="Wechat"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2018/05/07/deploy-app-to-aws-and-gcp-with-terraform/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">使用 Terrafrom 半自动化白嫖 GCP、AWS 搭建翻墙服务</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2014/01/23/secure-proxy-service/"><span class="level-item">Secure Proxy Service</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><script src="https://utteranc.es/client.js" repo="iarchean/utterances" issue-term="pathname" label="Comment" theme="github-light" crossorigin="anonymous" async></script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://archean-1256172257.cos.ap-beijing.myqcloud.com/blog/oucsd.jpg" alt="Archean Zhang"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Archean Zhang</p><p class="is-size-6 is-block">Knowing and Doing</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Tokyo</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">13</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">14</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">0</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://twitter.com/iArcHean" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="http://github.com/iarchean"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/iArcHean"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Instagram" href="https://www.instagram.com/iarchean/"><i class="fab fa-instagram"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#拓扑结构"><span class="level-left"><span class="level-item">1</span><span class="level-item">拓扑结构</span></span></a></li><li><a class="level is-mobile" href="#基本配置"><span class="level-left"><span class="level-item">2</span><span class="level-item">基本配置</span></span></a></li><li><a class="level is-mobile" href="#访问总部网络资源"><span class="level-left"><span class="level-item">3</span><span class="level-item">访问总部网络资源</span></span></a></li><li><a class="level is-mobile" href="#总部访问办公区服务器"><span class="level-left"><span class="level-item">4</span><span class="level-item">总部访问办公区服务器</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="https://api.follow.it/subscription-form/d0MrN0lUdUR3SEV2TTdTS3ljeWswci9HeE0vMmlWTk8yVTJmb1ZZenNJRG9kU0UxeEsvY1VBeml5c29rVEh2TFA4RVNQNG5acnlLL1dJYklIVk9vbVp4RDZ5QmJ2TjNPajFYRXRSYTNwM1ZxSDlBc2h5NGRnK1J6dzlIR3B5b1d8djhHclRkM0lUdFIzV2tBc0JwZjFOUGJqOVdIWkJ4MS9qZTVZaDZYMlVmWT0=/8" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><figure class="media-left"><a class="image" href="/2021/12/06/Is-the-2FA-comes-with-Apple-iCloud-Keychain-easy-to-use/"><img src="https://res.craft.do/user/full/f05fc002-1ef2-257c-e47b-1fef72d2bf58/doc/0525AF59-579D-4ECA-8188-2F44A288A409/35D325C0-CFC5-4CC6-9B57-8EE2B90ACB54_2/Image.png" alt="苹果 iCloud Keychain 自带的双重认证器好用吗？"></a></figure><div class="media-content"><p class="date"><time dateTime="2021-12-06T14:00:00.000Z">2021-12-06</time></p><p class="title"><a href="/2021/12/06/Is-the-2FA-comes-with-Apple-iCloud-Keychain-easy-to-use/">苹果 iCloud Keychain 自带的双重认证器好用吗？</a></p><p class="categories"><a href="/categories/Apple/">Apple</a> / <a href="/categories/Apple/Experience/">Experience</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2019/03/24/Moniting-F5-with-Zabbix/"><img src="https://archean-1256172257.cos.ap-beijing.myqcloud.com/blog/4yi7i.jpg" alt="F5 可用性研究以及使用 Zabbix 监控 F5"></a></figure><div class="media-content"><p class="date"><time dateTime="2019-03-24T08:56:33.000Z">2019-03-24</time></p><p class="title"><a href="/2019/03/24/Moniting-F5-with-Zabbix/">F5 可用性研究以及使用 Zabbix 监控 F5</a></p><p class="categories"><a href="/categories/Moniting/">Moniting</a> / <a href="/categories/Moniting/F5/">F5</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2019/03/17/moniting-exchange-server-with-zabbix/"><img src="https://archean-1256172257.cos.ap-beijing.myqcloud.com/blog/qrers.png" alt="使用 Zabbix 监控 Exchange Server 的数据库"></a></figure><div class="media-content"><p class="date"><time dateTime="2019-03-16T15:12:06.000Z">2019-03-17</time></p><p class="title"><a href="/2019/03/17/moniting-exchange-server-with-zabbix/">使用 Zabbix 监控 Exchange Server 的数据库</a></p><p class="categories"><a href="/categories/Moniting/">Moniting</a> / <a href="/categories/Moniting/Exchange/">Exchange</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2019/03/03/docker-learn-memo-1/"><img src="https://archean-1256172257.cos.ap-beijing.myqcloud.com/blog/w9960.jpg" alt="Docker 学习笔记"></a></figure><div class="media-content"><p class="date"><time dateTime="2019-03-03T13:10:06.000Z">2019-03-03</time></p><p class="title"><a href="/2019/03/03/docker-learn-memo-1/">Docker 学习笔记</a></p><p class="categories"><a href="/categories/Docker/">Docker</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/2019/03/02/test-new-theme/"><img src="https://archean-1256172257.cos.ap-beijing.myqcloud.com/blog/jorut.jpg" alt="试一下 Hexo 新主题：icarus"></a></figure><div class="media-content"><p class="date"><time dateTime="2019-03-01T16:50:08.000Z">2019-03-02</time></p><p class="title"><a href="/2019/03/02/test-new-theme/">试一下 Hexo 新主题：icarus</a></p></div></article></div></div><!--!--></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/Logo.png" alt="Archean&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2022 Archean Zhang</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>